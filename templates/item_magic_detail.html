{% extends "base_detail.html" %}

{% block title %}{{ item.name.rus }} — Магічний предмет{% endblock %}

{% block content %}
<header class="mb-6">
    <h1 class="text-3xl font-bold mb-2">
        {{ item.name.rus }} <span class="text-gray-500 text-xl">({{ item.name.eng }})</span>
    </h1>
    <p class="text-sm text-gray-600 mb-1">
        Тип: <strong>{{ item.type.name }}</strong>
        {% if item.rarity %}
        &mdash; Рідкість: <span class="capitalize">{{ item.rarity.name }}</span> ({{ item.rarity.short }})
        {% endif %}
    </p>
    <p class="text-sm text-gray-600 mb-4">
        Джерело: {{ item.source.name }} ({{ item.source.shortName }})
    </p>

    {% if item.images and item.images|length > 0 %}
    <div class="mb-6">
        <img src="{{ item.images[0] }}" alt="{{ item.name.rus }}" class="rounded shadow max-h-64 object-contain" />
    </div>
    {% endif %}
</header>

{% if item.price %}
<section class="mb-6">
    <h2 class="text-xl font-semibold mb-2">Ціна</h2>
    <ul class="list-disc list-inside">
        {% for key, val in item.price.items() %}
        <li><strong>{{ key|upper }}:</strong> {{ val }} зм.</li>
        {% endfor %}
    </ul>
</section>
{% endif %}

{% if item.cost %}
<section class="mb-6">
    <h2 class="text-xl font-semibold mb-2">Вартість</h2>
    <ul class="list-disc list-inside">
        {% for key, val in item.cost.items() %}
        <li><strong>{{ key|upper }}:</strong> {{ val }}</li>
        {% endfor %}
    </ul>
</section>
{% endif %}

{% if item.customization %}
<section class="mb-6">
    <h2 class="text-xl font-semibold mb-2">Налаштування</h2>
    {% if item.detailCustamization %}
    <ul class="list-disc list-inside">
        {% for cust in item.detailCustamization %}
        <li>{{ cust }}</li>
        {% endfor %}
    </ul>
    {% else %}
    <p>Доступно налаштування.</p>
    {% endif %}
</section>
{% endif %}

{% if item.description %}
<section class="mb-6 prose prose-sm sm:prose max-w-none">
    {{ item.description | safe }}
</section>
{% endif %}
{% endblock %}
