{% extends "base_detail.html" %}

{% block title %}
    {{ item.name.rus }} ‚Äî {{ item.name.eng }}
{% endblock %}

{% block header %}
<h1 class="text-2xl sm:text-3xl font-bold mb-2 text-center sm:text-left">{{ item.name.rus }}</h1>
{% endblock %}

{% block subtitle %}
<h2 class="text-base sm:text-lg text-gray-500 mb-6 text-center sm:text-left">{{ item.name.eng }}</h2>
{% endblock %}

{% block content %}
<div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3 text-sm">
    <p><strong>–†—ñ–≤–µ–Ω—å:</strong> {{ item.level }}</p>
    <p><strong>–®–∫–æ–ª–∞:</strong> {{ item.school }}</p>
    <p><strong>–ß–∞—Å –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è:</strong> {{ item.time }}</p>
    <p><strong>–î–∞–ª—å–Ω—ñ—Å—Ç—å:</strong> {{ item.range }}</p>
    <p><strong>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</strong> {{ item.duration }}</p>
    <p><strong>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:</strong>
        <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded-full inline-block mt-1 sm:mt-0">
            {% if item.components.v %}–í {% endif %}
            {% if item.components.s %}–° {% endif %}
            {% if item.components.m %}<span title="{{ item.components.m }}">–ú</span>{% endif %}
        </span>
    </p>
    {% if item.ritual %}
    <p>
        <span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full inline-block">üïØÔ∏è –†–∏—Ç—É–∞–ª</span>
    </p>
    {% endif %}
    {% if item.concentration %}
    <p>
        <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full inline-block">üåÄ –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è</span>
    </p>
    {% endif %}
</div>

<div class="mt-6">
    <h3 class="font-semibold mb-1">–ö–ª–∞—Å–∏</h3>
    <div class="flex flex-wrap gap-2">
        {% for cls in item.classes %}
        <span class="bg-gray-200 text-sm px-3 py-1 rounded">{{ cls.name }}</span>
        {% endfor %}
    </div>

    {% if item.subclasses %}
    <h3 class="font-semibold mt-4 mb-1">–ü—ñ–¥–∫–ª–∞—Å–∏</h3>
    <ul class="list-disc ml-6">
        {% for sub in item.subclasses %}
        <li>{{ sub.name }} ({{ sub.class }})</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>

<div class="mt-6 prose prose-sm sm:prose max-w-none">
    {{ item.description | safe }}
</div>

{% if item.upper %}
<div class="mt-4 border-t pt-4">
    <h4 class="font-bold text-md">–ù–∞ –≤–∏—â–∏—Ö —Ä—ñ–≤–Ω—è—Ö</h4>
    <div class="prose prose-sm sm:prose max-w-none">{{ item.upper | safe }}</div>
</div>
{% endif %}
{% endblock %}